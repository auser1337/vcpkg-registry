set(VCPKG_CMAKE_SYSTEM_NAME Generic)

vcpkg_check_linkage(ONLY_STATIC_LIBRARY)

vcpkg_from_github(
        OUT_SOURCE_PATH SOURCE_PATH
        REPO auser1337/xNVSE
        REF 5d5b4d04172e87abbaf0c81ee30897ec467e0013
        SHA512 38c487de64972e1bc96e3bcb7972b7b878648b9e8f8e75c72e7a56506d1834b118daab30e94a9e497e330f8980683e0d60c297b82781295a4ae4207c21fd8e5e
        HEAD_REF master
)
vcpkg_cmake_configure(SOURCE_PATH "${SOURCE_PATH}")
vcpkg_cmake_install()

file(INSTALL "${SOURCE_PATH}" DESTINATION "${CURRENT_PACKAGES_DIR}/debug/lib" FILES_MATCHING PATTERN "*.lib")
file(INSTALL "${SOURCE_PATH}" DESTINATION "${CURRENT_PACKAGES_DIR}/lib" FILES_MATCHING PATTERN "*.lib")
